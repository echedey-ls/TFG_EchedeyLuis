\chapter{Resultados y conclusiones} \label{chp:resultados}

En este capítulo se resumen los resultados obtenidos en el desarrollo del Trabajo Fin de Grado, aquellos tanto satisfactorios como los que no, y el impacto que ha tenido la participación en \pvlibpy. Además, se proponen posibles líneas de trabajo futuro, algunas que seguirán desarrollándose y otras que se podrían seguir a partir de este TFG.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Resultados} \label{sct:resultados_resultados}

A pesar de que los ciclos de revisiones y correcciones toman un elevado tiempo de desarrollo, se han conseguido implementar varios modelos y funcionalidades nuevos en \pvlibpy. Además, se ha mejorado la documentación de la librería y se han corregido errores en la misma. Cabe destacar:

\begin{enumerate}
    \item Exponer el cálculo de la proyección del \gls{cenit} solar sobre las coordenadas de un colector.
    \item Implementar un cálculo de la fracción de \gls{sombra} unidimensional.
    \item La implementación de un modelo de pérdidas de potencia por sombreado, según número de \gls{diodos de bypass}.
    \item Un modelo de fracción de irradiancia difusa fotosintetizable, en función de la irradiancia \gls{difusa} global.
    \item Un modelo de pérdidas de potencia por heterogeneidad en la irradiancia incidente, de interés para \gls{módulos bifaciales}.
    \item Dos funciones de conversión recíprocas de responsividad espectral y \gls{eficiencia cuántica externa}, con posibilidad de normalizar la salida.
    \item Adición de una función general para obtener espectros estándares, que cuenta con el \gls{estándar} ASTM G173-03, pero que será muy fácilmente extendible.
    \item Solventar 5 bugs y 2 características nuevas de las que han informado usuarios varios.
    \item Mejorar la documentación ya existente de forma amplia.
    \item Participar en detectar posibles contribuciones para primeros contribuyentes en el futuro.
    \item Aportar ideas y planteamientos que faciliten contribuir a la librería.
\end{enumerate}

Algunas cifras significativas, para la librería \pvlibpy{} son:

\begin{itemize}
    \item Se han realizado $35$ \textit{commits} en la \gls{rama} principal, con la aportación de $6904$ líneas de texto y la sustitución de $2782$\footnote{Fuente: \url{https://github.com/pvlib/pvlib-python/graphs/contributors}.}.
          \begin{itemize}
            \item De las líneas aportadas y sustituidas, tan sólo $2004$ corresponden a ficheros de datos, en el caso de la contribución de espectro \gls{estándar} ASTM G173-03.
          \end{itemize}
    \item Se han abierto 35 \textit{pull requests}\footnote{Fuente: \url{https://github.com/pvlib/pvlib-python/pulls?q=is\%3Apr+author\%3Aechedey-ls+}.}.
          \begin{itemize}
              \item De las cuales 24 se han aceptado.
              \item De las cuales 5 se han desestimado.
              \item De las cuales 6 se mantienen abiertas.
          \end{itemize}
    \item Se han revisado 19 \textit{pull requests} de otros usuarios\footnote{Fuente: \url{https://github.com/pvlib/pvlib-python/pulls?q=is\%3Apr+reviewed-by\%3Aechedey-ls+-author\%3Aechedey-ls+}.}.
    \item Se han abierto 25 \textit{issues}\footnote{Fuente: \url{https://github.com/pvlib/pvlib-python/issues?q=is\%3Aissue+author\%3Aechedey-ls+}.}.
          \begin{itemize}
              \item De las cuales se han cerrado 14.
          \end{itemize}
    \item Se ha participado en 30 \textit{issues} de otros usuarios\footnote{Fuente: \url{https://github.com/pvlib/pvlib-python/issues?q=is\%3Aissue+-author\%3Aechedey-ls+involves\%3Aechedey-ls+}.}.
          \begin{itemize}
              \item De las cuales se han cerrado 19.
          \end{itemize}
    \item Se han creado 5 ejemplos completamente nuevos.
\end{itemize}

Asimismo este proyecto ha tenido impacto en otros proyectos, como se detalla en la sección \ref{sssct:impacto:otrosproyectos}.

\section{Impacto} \label{chp:impacto}

En esta sección se analizará el valor que aporta el trabajo realizado en este TFG.

El impacto se divide en dos partes: la primera sección se centrará en el impacto general del trabajo, mientras que la segunda sección analizará el impacto específico en relación con los Objetivos de Desarrollo Sostenible (ODS).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Impacto general} \label{sssct:impacto:general}

Este Trabajo Fin de Grado permite visibilizar y extender el uso de algunos modelos científicos relacionados con la fotovoltaica. Además, se ha facilitado el mantenimiento de la librería \pvlibpy{} y se ha mejorado la documentación de la misma, contribuyendo así a la persistencia de este proyecto. Incluso sin haberse añadido algunas de las contribuciones propuestas, el trabajo realizado ha permitido reforzar líneas de trabajo que antes ni se consideraban.

Se espera que algunos de los modelos sean bastante útiles para la comunidad científica y técnica, en especial aquellos que consisten en modelos de pérdidas. Estos modelos permiten optimizar el diseño de plantas y mejorar el rendimiento económico de las instalaciones. Además, la mejora de la documentación de la librería \pvlibpy{} facilita su uso y extensión, lo que puede llevar a un aumento de la comunidad de usuarios y contribuidores.

Dentro del programa subvencionado \textit{Google Summer of Code}, se ha trabajado estrechamente con otros compañeros desarrolladores y se les ha ayudado a que se familiaricen con las herramientas de desarrollo y la forma de colaborar en el proyecto. Esto ha permitido que se hayan añadido nuevas funcionalidades a la librería y se haya mejorado la calidad del código.

Asimismo, este trabajo se alinea con los objetivos de la Universidad pública de promover la investigación, la transferencia y democratización libre del conocimiento.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Impacto en otros proyectos} \label{sssct:impacto:otrosproyectos}

A lo largo del desarrollo de este trabajo, se ha encontrado la posibilidad de mejorar otros repositorios gracias a la interacción con otros contribuyentes y mantenedores. Se han detectado y propuesto mejoras en los siguientes:

\begin{itemize}

    \item \textbf{En \textit{pvlib/solarfactors}}:

          Este \gls{repositorio} se trata de un clon de \textit{pvfactors}, que se emplea para calcular factores de vista de sistemas fotovoltaicos bifaciales. Es un clon porque \textit{pvfactors} inició dentro de una empresa, que contaba con los permisos para administrar sus cambios, pero dejó de mantenerla. La comunidad de \textit{pvlib}, ya que la usaba en el repositorio \pvlibpy, decidió clonarla y mantenerla.

          \begin{itemize}
              \item \issue[https://github.com/pvlib/solarfactors]{16}
          \end{itemize}

          Se detecta y se informa sobre un problema de las dependencias de \textit{solarfactors} en \textit{Python 3.12}, y se ha propuesto eliminar la dependencia de \textit{Shapely} en favor de código nativo de Python. Se ha iniciado el trabajo, pero no se ha completado por dificulta técnica y falta de vinculación con los objetivos de este trabajo.

    \item \textbf{En \textit{openpvtools/pv-foss-engagement}}:

          Este pequeño proyecto es un compendio de librerías de código abierto de fotovoltaica, con sus datos de contribuciones, contribuyentes y otras métricas relativas al impacto e interés que generan.

          Se puede consultar en \href{https://openpvtools.github.io/pv-foss-engagement/}{openpvtools.github.io/pv-foss-engagement/}.

          \begin{itemize}
              \item \issue[https://github.com/openpvtools/pv-foss-engagement]{8}
              \item \pr[https://github.com/openpvtools/pv-foss-engagement]{9}
          \end{itemize}

          Se detecta y se informa sobre la ausencia del clon citado anteriormente, \textit{pvlib/solarfactors}, en este \gls{repositorio}. Un mantenedor añade las estadísticas para que posteriormente se hagan las modificaciones pertinentes para que se muestren en la web.

          Dentro de este TFG se realiza el archivo y las modificaciones necesarias para poder ver las estadísticas de \textit{solarfactors} en la web. Se incluyen los datos a fecha de esta redacción.

    \item \textbf{En \textit{NREL/bifacial\_radiance}}:
    
          Este \gls{repositorio} facilita \gls{software} de simulación de sistemas fotovoltaicos bifaciales. Durante la comparación del código aportado a \pvlibpy{} en la propuesta \ref{sct:desarrollo:contribuciones_cientificas:heterogeneidad_irradiancia} sobre irradiancia distribuida no uniformemente en la cara posterior del \gls{módulo}, se detectan un error de unidades y deficiencias en la documentación del modelo de referencia. Se corrigen los fallos de su implementación y se añade un modelo con unos coeficientes más apropiados.

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Objetivos de Desarrollo Sostenible} \label{sssct:impacto:ods}

Con este trabajo se ha contribuido a la consecución de los Objetivos de Desarrollo Sostenible (ODS):

\begin{itemize}
    \item \textbf{ODS 3: Salud y bienestar}. Al potenciar el uso de energías renovables, se contribuye a la reducción de la contaminación y, por tanto, a la mejora de la salubridad del medio ambiente.
    \item \textbf{ODS 7: Energía asequible y no contaminante}. Debido a que se facilitan herramientas de diseño y análisis de instalaciones fotovoltaicas, se contribuye a que se extienda el uso y se mejore la eficiencia de las mismas y, por tanto, se reduzca la dependencia de otras fuentes de energía no renovables.
    \item \textbf{ODS 9: Industria, innovación e infraestructura}. Se ha trabajado en la mejora de la librería \pvlibpy ampliamente utilizada por el sector industrial, lo que facilita la innovación y desarrollo de la energía fotovoltaica.
    \item \textbf{ODS 11: Ciudades y comunidades sostenibles}. Las mejoras facilitadas permiten analizar instalaciones fotovoltaicas de forma más fiable, lo que contribuye a su implantación distribuida en entornos más agresivos de sombras, como las ciudades.
    \item \textbf{ODS 13: Acción por el clima}. Este ODS sigue en la misma línea que los demás: como fuente de energía renovable, y en especial por ser la fotovoltaica, se sustituyen las fuentes de mayor emisión de gases de efecto invernadero y se contribuye a la lucha contra el cambio climático.
\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Conclusiones} \label{sct:resultados:conclusiones}

Con la realización de este Trabajo Fin de Grado, se promueven y mejoran proyectos de código abierto ya establecidos, lo que garantiza la usabilidad de las aportaciones aceptadas.

Se han mejorado múltiples aspectos de la librería \pvlibpy, desde errores menores en el código a la implementación de nuevos modelos y funcionalidades. Se ha mejorado la documentación, dotando al proyecto de una mayor usabilidad. El aporte que realiza este TFG es enriquece transversalmente a todos los efectos de este \gls{repositorio} y se espera que sea de utilidad para la comunidad científica y técnica. Se espera que además se facilite el acceso de nuevos contribuyentes a la librería.

Desde un punto de vista de los logros, es destacable el impacto que este proyecto tiene iniciativas de código abierto. Por otro lado, hay dos dificultades principales que cabría destacar:

\begin{itemize}
    \item La exploración de artículos con modelos candidatos, a pesar de partir de una tanda inicial, encontrar otras posibles contribuciones adicionales supone un elevado esfuerzo y un resultado reducido.
    \item La planificación del trabajo, que responde a ciclos de trabajo extensos por el aprendizaje paralelo al desarrollo y, en especial, al lanzamiento de versiones, que es el factor principal que motiva la revisión de las propuestas.
\end{itemize}

Asimismo cabe destacar que se hay pequeños gestos que han hecho del proyecto un lugar más inclusivo, como identificar el sesgo hacia los ejemplos de fotovoltaica exclusivamente orientada al sur, el recibimiento a nuevos contribuyentes o la resolución de algunas dudas.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Trabajo futuro} \label{sct:resultados:trabajofuturo}

Hay varias líneas de desarrollo que sería deseable continuar en el futuro, algunas de las cuales se han planteado en este TFG:

\begin{enumerate}
    \item Inicialmente se trabajará en contrastar la implementación del modelo descrito en \ref{sct:desarrollo:contribuciones_cientificas:heterogeneidad_irradiancia}, cuyos autores solicitan y facilitan información para contrastar la implementación con la suya.
    \item Se continuarán las propuestas ya planteadas, tanto dentro como fuera del programa subvencionado \textit{Google Summer of Code}. Y se priorizará dotar a la web de una mejor estética y usabilidad empleando las últimas versiones posibles.
    \item Además, posiblemente se intente continuar en la línea de solventar el problema de la dependencia \texttt{shapely<2} en \textit{solarfactors}, en función de si el equipo decide trabajar en ello.
    \item Por último, se ayudará a mejorar la documentación sobre cómo contribuir, y plantear una hoja de ruta para futuros contribuyentes que no hayan visto cómo programar en esta librería antes, pues se identifica que no todos los contribuyentes reciben formación sobre el uso de control de versiones en sus titulaciones.
\end{enumerate}

Se espera que este trabajo contribuya y motive el desarrollo de algunas áreas de estudio, así como que extienda y facilite la implantación de esta energía renovable en la sociedad.
